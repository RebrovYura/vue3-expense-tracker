<template>
    <h3 class="font-semibold text-xl">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –æ–ø–µ—Ä–∞—Ü–∏—é</h3>
    <form id="form" @submit.prevent="onSubmit">
        <div class="form-control">
            <label for="text">–ù–∞–∑–≤–∞–Ω–∏–µ</label>
            <input type="text" id="text" v-model="text" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏...">
        </div>
        <div class="form-control">
            <label for="amount">–°—É–º–º–∞ <br /> (–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è - —Ä–∞—Å—Ö–æ–¥—ã, –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è - –¥–æ—Ö–æ–¥—ã)</label>
            <input type="text" id="amount" v-model="amount" placeholder="–°—É–º–º–∞...">
        </div>
        <button
            class="cursor-pointer bg-[#171717] shadow-block-shadow text-white border-0 rounded-xl block text-base font-semibold mt-3 mb-8 p-4 w-full">–î–æ–±–∞–≤–∏—Ç—å</button>
    </form>
</template>

<script setup>
import { ref, defineEmits } from 'vue';
import { useToast } from 'vue-toastification';

const text = ref('')
const amount = ref('')
const toast = useToast()
const emit = defineEmits(["transactionSubmitted"])

const onSubmit = () => {
    if (!text.value || !amount.value) {
        toast.error('–ü–æ–ª—è –Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—É—Å—Ç—ã–º–∏!üòï ')
        return
    }

    const transactionData = {
        text: text.value,
        amount: parseFloat(amount.value)
    }

    emit("transactionSubmitted", transactionData)

    text.value = ''
    amount.value = ''
}
</script>

<script>
export default {
    name: 'TransactionForm',
}
</script>

<style scoped></style>